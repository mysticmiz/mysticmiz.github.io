if (self.CavalryLogger) { CavalryLogger.start_js(["jNvGp"]); }

__d("CometUFICommentList_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}];return{argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"includeHighlightedComments",type:"Boolean!"},{defaultValue:!0,kind:"LocalArgument",name:"includeNestedComments",type:"Boolean!"},{defaultValue:!0,kind:"LocalArgument",name:"isInitialFetch",type:"Boolean!"},{kind:"RootArgument",name:"useDefaultActor",type:"Boolean"}],kind:"Fragment",metadata:null,name:"CometUFICommentList_feedback",selections:[a,{alias:null,args:b,kind:"ScalarField",name:"can_viewer_comment",storageKey:null},{alias:null,args:b,kind:"ScalarField",name:"comment_composer_placeholder",storageKey:null},{alias:"comment_count",args:null,concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null}],storageKey:null},{alias:"toplevel_comment_count",args:[{kind:"Literal",name:"orderby",value:"toplevel"}],concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:'top_level_comments(orderby:"toplevel")'},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"threading_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[a],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFIComment_feedback"},{args:[{kind:"Variable",name:"includeHighlightedComments",variableName:"includeHighlightedComments"},{kind:"Variable",name:"includeNestedComments",variableName:"includeNestedComments"},{kind:"Variable",name:"isInitialFetch",variableName:"isInitialFetch"}],kind:"FragmentSpread",name:"CometUFICommentsProvider_feedback"},{args:null,kind:"FragmentSpread",name:"CometUFIComposer_feedback"},{args:null,kind:"FragmentSpread",name:"CometUFICommentEditor_feedback"}],type:"Feedback"}}();e.exports=a}),null);
__d("CometUFICommentsProviderPaginationQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"after",type:"ID"},{defaultValue:null,kind:"LocalArgument",name:"before",type:"ID"},{defaultValue:null,kind:"LocalArgument",name:"displayCommentsFeedbackContext",type:"String"},{defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextEnableComment",type:"Boolean"},{defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAdPreview",type:"Boolean"},{defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAggregatedShare",type:"Boolean"},{defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsStorySet",type:"Boolean"},{defaultValue:null,kind:"LocalArgument",name:"feedLocation",type:"FBFeedLocation"},{defaultValue:null,kind:"LocalArgument",name:"feedbackID",type:"ID!"},{defaultValue:null,kind:"LocalArgument",name:"feedbackSource",type:"Int"},{defaultValue:null,kind:"LocalArgument",name:"first",type:"Int"},{defaultValue:null,kind:"LocalArgument",name:"focusCommentID",type:"ID"},{defaultValue:!1,kind:"LocalArgument",name:"includeHighlightedComments",type:"Boolean"},{defaultValue:!0,kind:"LocalArgument",name:"includeNestedComments",type:"Boolean"},{defaultValue:null,kind:"LocalArgument",name:"isInitialFetch",type:"Boolean"},{defaultValue:!0,kind:"LocalArgument",name:"isPaginating",type:"Boolean"},{defaultValue:null,kind:"LocalArgument",name:"isComet",type:"Boolean!"},{defaultValue:!0,kind:"LocalArgument",name:"containerIsFeedStory",type:"Boolean"},{defaultValue:!1,kind:"LocalArgument",name:"containerIsWorkplace",type:"Boolean"},{defaultValue:!1,kind:"LocalArgument",name:"containerIsLiveStory",type:"Boolean"},{defaultValue:!1,kind:"LocalArgument",name:"containerIsTahoe",type:"Boolean"},{defaultValue:null,kind:"LocalArgument",name:"last",type:"Int"},{defaultValue:null,kind:"LocalArgument",name:"scale",type:"Float"},{defaultValue:null,kind:"LocalArgument",name:"topLevelViewOption",type:"CommentOrderingMode"},{defaultValue:null,kind:"LocalArgument",name:"useDefaultActor",type:"Boolean"},{defaultValue:null,kind:"LocalArgument",name:"viewOption",type:"CommentOrderingMode"},{defaultValue:null,kind:"LocalArgument",name:"UFI2CommentsProvider_commentsKey",type:"String"}],b=[{kind:"Variable",name:"id",variableName:"feedbackID"}],c={kind:"Variable",name:"after",variableName:"after"},d={kind:"Variable",name:"before",variableName:"before"},e={kind:"Variable",name:"first",variableName:"first"},f={kind:"Variable",name:"last",variableName:"last"},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},aa={alias:null,args:null,kind:"ScalarField",name:"subscription_target_id",storageKey:null},h={kind:"Variable",name:"feed_context_enable_comment",variableName:"displayCommentsContextEnableComment"},i={kind:"Variable",name:"feed_context_fb_feed_location",variableName:"feedLocation"},j={kind:"Variable",name:"feed_context_is_ad_preview",variableName:"displayCommentsContextIsAdPreview"},k={kind:"Variable",name:"feed_context_is_aggregated_share",variableName:"displayCommentsContextIsAggregatedShare"},l={kind:"Variable",name:"feed_context_is_story_set",variableName:"displayCommentsContextIsStorySet"},m={kind:"Variable",name:"feedback_context",variableName:"displayCommentsFeedbackContext"},n={kind:"Variable",name:"feedback_source",variableName:"feedbackSource"},o={kind:"Variable",name:"focus_comment_id",variableName:"focusCommentID"},p={kind:"Variable",name:"is_initial_fetch",variableName:"isInitialFetch"},ba=[c,d,{kind:"Variable",name:"comment_order",variableName:"viewOption"},h,i,j,k,l,m,n,e,o,p,{kind:"Variable",name:"is_top_level",variableName:"includeNestedComments"},f,{kind:"Variable",name:"top_level_comment_order",variableName:"topLevelViewOption"}],ca={alias:null,args:null,kind:"ScalarField",name:"after_count",storageKey:null},da={alias:null,args:null,kind:"ScalarField",name:"before_count",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},ea={alias:null,args:null,kind:"ScalarField",name:"legacy_fbid",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},u={kind:"Variable",name:"scale",variableName:"scale"},v={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},w=[v],fa={alias:"profile_picture_depth_0",args:[{kind:"Literal",name:"height",value:32},u,{kind:"Literal",name:"width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:w,storageKey:null},x=[{kind:"Literal",name:"height",value:24},u,{kind:"Literal",name:"width",value:24}],ga={alias:"profile_picture_depth_1",args:x,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:w,storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},z={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]};y={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[r,g,s,t,fa,ga,{kind:"InlineFragment",selections:[y,{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},z],type:"User"},{kind:"InlineFragment",selections:[y],type:"Page"}],storageKey:null};var ha={alias:null,args:null,kind:"ScalarField",name:"is_author_weak_reference",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"created_time",storageKey:null},ia={alias:null,args:null,kind:"ScalarField",name:"spam_display_mode",storageKey:null},ja={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:"style_type_renderer_comet",args:[{kind:"Literal",name:"supported",value:["StoryAttachmentAnimatedImageShareStyleRenderer","StoryAttachmentDonationStyleRenderer","StoryAttachmentFallbackStyleRenderer","StoryAttachmentPhotoStyleRenderer","StoryAttachmentStickerStyleRenderer","StoryAttachmentVideoAutoplayStyleRenderer","StoryAttachmentVideoStyleRenderer","StoryAttachmentTipJarPaymentStyleRenderer","StoryAttachmentCommentPlaceInfoStyleRenderer","StoryAttachmentChatCommandStyleRenderer","StoryAttachmentPageInCommentStyleRenderer","StoryAttachmentInstantGamesTournamentActivityStyleRenderer"]}],concreteType:null,kind:"LinkedField",name:"style_type_renderer",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentAnimatedImageShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAnimatedImageShareStyleRenderer"},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentDonationAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentDonationStyleRenderer"},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentFallbackAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFallbackStyleRenderer"},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentImageAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPhotoStyleRenderer"},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentStickerAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentStickerStyleRenderer"},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentVideoAutoplayAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoAutoplayStyleRenderer"},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentVideoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoStyleRenderer"},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentTipJarPaymentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentTipJarPaymentStyleRenderer"},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentPlaceInfoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCommentPlaceInfoStyleRenderer"},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentChatCommandAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentChatCommandStyleRenderer"},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentPageInCommentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPageInCommentStyleRenderer"},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentInstantGamesTournamentActivityAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentInstantGamesTournamentActivityStyleRenderer"}],storageKey:'style_type_renderer(supported:["StoryAttachmentAnimatedImageShareStyleRenderer","StoryAttachmentDonationStyleRenderer","StoryAttachmentFallbackStyleRenderer","StoryAttachmentPhotoStyleRenderer","StoryAttachmentStickerStyleRenderer","StoryAttachmentVideoAutoplayStyleRenderer","StoryAttachmentVideoStyleRenderer","StoryAttachmentTipJarPaymentStyleRenderer","StoryAttachmentCommentPlaceInfoStyleRenderer","StoryAttachmentChatCommandStyleRenderer","StoryAttachmentPageInCommentStyleRenderer","StoryAttachmentInstantGamesTournamentActivityStyleRenderer"])'},{alias:null,args:null,kind:"ScalarField",name:"style_list",storageKey:null}],storageKey:null},B={kind:"Variable",name:"feed_location",variableName:"feedLocation"},C=[B],ka={alias:null,args:C,kind:"ScalarField",name:"should_show_comment_menu",storageKey:null},la={alias:null,args:null,kind:"ScalarField",name:"is_author_banned_by_content_owner",storageKey:null},ma={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment_parent",plural:!1,selections:[g,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[r,s,g,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"first_name",storageKey:null}],type:"User"}],storageKey:null}],storageKey:null},na=[q],oa={alias:null,args:null,concreteType:"EditHistoryConnection",kind:"LinkedField",name:"edit_history",plural:!1,selections:na,storageKey:null},D=[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],E={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},pa={alias:null,args:D,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:[E,g],storageKey:null},F=[r,g],qa={alias:null,args:D,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:F,storageKey:null},ra={alias:null,args:null,concreteType:"FeedbackReaction",kind:"LinkedField",name:"supported_reactions",plural:!0,selections:[E],storageKey:null},G=[g],sa={alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"associated_video",plural:!1,selections:G,storageKey:null};E={alias:null,args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"TopReactionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_count",storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"node",plural:!1,selections:[E,g,{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])'};var ta={alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[q,{alias:null,args:null,kind:"ScalarField",name:"is_empty",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"count_reduced",storageKey:null}],storageKey:null},ua={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},H={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:G,storageKey:null},va={alias:null,args:null,concreteType:"PrivateReplyContext",kind:"LinkedField",name:"page_private_reply",plural:!1,selections:[ua,{alias:null,args:null,kind:"ScalarField",name:"permalink",storageKey:null},H],storageKey:null},wa={alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:G,storageKey:null},xa={alias:null,args:null,kind:"ScalarField",name:"can_viewer_demote",storageKey:null},ya={alias:null,args:null,kind:"ScalarField",name:"did_viewer_demote",storageKey:null},za={alias:null,args:D,kind:"ScalarField",name:"can_viewer_comment",storageKey:null},Aa={alias:null,args:D,kind:"ScalarField",name:"can_viewer_react",storageKey:null},Ba={alias:null,args:D,kind:"ScalarField",name:"comment_composer_placeholder",storageKey:null};h=[h,i,j,k,l,m,n,o,p,{kind:"Literal",name:"is_top_level",value:!1}];i={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"highlighted_comments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[r,g,s,{alias:"profilePictureForReplyExpander",args:x,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:w,storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null},z],type:"User"}],storageKey:null},A,g],storageKey:null};j={alias:null,args:null,kind:"ScalarField",name:"comment_order",storageKey:null};k={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"expanded_sub_reply_parents",plural:!0,selections:G,storageKey:null};l={alias:null,args:null,kind:"ScalarField",name:"is_initially_expanded",storageKey:null};m={alias:null,args:null,kind:"ScalarField",name:"page_size",storageKey:null};n={alias:null,args:null,kind:"ScalarField",name:"reply_comment_order",storageKey:null};o={alias:null,args:null,kind:"ScalarField",name:"should_render_composer_preemptively",storageKey:null};p={alias:"sub_replies_count",args:[{kind:"Literal",name:"orderby",value:"sub_replies"}],concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:na,storageKey:'top_level_comments(orderby:"sub_replies")'};x={alias:null,args:null,concreteType:"PageAdminActorInfo",kind:"LinkedField",name:"page_admin_actor_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"creator_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_uri",storageKey:null}],storageKey:null};var Ca={alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"parent_feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_ban_user",storageKey:null},za,g,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"viewer_acts_as_page",plural:!1,selections:G,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_fbid",storageKey:null},{alias:null,args:null,concreteType:"PoliticalFigureData",kind:"LinkedField",name:"political_figure_data",plural:!1,selections:[s,{alias:null,args:null,concreteType:"PoliticalOffice",kind:"LinkedField",name:"political_office",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"generic_title",storageKey:null},g],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"best_profile",plural:!1,selections:F,storageKey:null},g],storageKey:null}],storageKey:null};H={alias:null,args:null,concreteType:"PrivateReplyContext",kind:"LinkedField",name:"private_reply_context",plural:!1,selections:[H,ua],storageKey:null};var I=[{kind:"Literal",name:"translation_type",value:"ORIGINAL"}],J={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},N=[L,{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},v,M],O={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"entity_is_weak_reference",storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null};O={alias:null,args:I,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"translation_type",storageKey:null},r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[J,K,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[r,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:N,storageKey:null},g],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[J,K,{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedEntitiesAtRange",kind:"LinkedField",name:"aggregated_ranges",plural:!0,selections:[J,K,q,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"sample_entities",plural:!0,selections:[r,g,{kind:"InlineFragment",selections:[s],type:"User"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[r,g,{alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'},{alias:"profile_url",args:null,kind:"ScalarField",name:"url",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"external_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_skip_redirect",storageKey:null}],type:"ExternalUrl"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"time_index",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:G,storageKey:null}],type:"VideoTimeIndex"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"category_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verification_status",storageKey:null}],type:"Page"},{kind:"InlineFragment",selections:[O],type:"User"},{kind:"InlineFragment",selections:[O,{alias:null,args:null,kind:"ScalarField",name:"work_official_status",storageKey:null}],type:"Group"}],storageKey:null},J,K,r,P],storageKey:null},Q,{alias:null,args:null,concreteType:"DelightAtRange",kind:"LinkedField",name:"delight_ranges",plural:!0,selections:[r,{alias:null,args:null,concreteType:"TextDelightCampaign",kind:"LinkedField",name:"campaign",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"delight_surface",value:"COMMENT"}],concreteType:"TextDelightStylePair",kind:"LinkedField",name:"delight_styles",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:'delight_styles(delight_surface:"COMMENT")'},g],storageKey:null},J,K],storageKey:null}],type:"TextWithEntities"}],storageKey:'preferred_body(translation_type:"ORIGINAL")'};var Da={alias:null,args:null,concreteType:"PostTranslatability",kind:"LinkedField",name:"translatability_for_viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"source_dialect_name",storageKey:null}],storageKey:null},Ea={alias:null,args:null,kind:"ScalarField",name:"translation_available_for_viewer",storageKey:null};I={alias:"body_renderer",args:I,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{documentName:"CometUFICommentBody_comment",fragmentName:"CometUFICommentBodyTextWithEntities_textWithEntities",fragmentPropName:"textWithEntities",kind:"ModuleImport"}],type:"TextWithEntities"},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentBody_comment",fragmentName:"CometUFICommentBodyComposedTextWithEntities_composedTextWithEntities",fragmentPropName:"composedTextWithEntities",kind:"ModuleImport"}],type:"FBMarkdownCommentBody"}],storageKey:'preferred_body(translation_type:"ORIGINAL")'};var Fa={alias:null,args:null,kind:"ScalarField",name:"timestamp_in_video",storageKey:null},Ga={alias:null,args:null,kind:"ScalarField",name:"written_while_video_was_live",storageKey:null},R={kind:"Literal",name:"is_comet",value:!0},S=[{kind:"Literal",name:"blacklist",value:"ORIGINAL_POST_AUTHOR"},B,R],T=[Q];B={alias:null,args:null,concreteType:"GroupCommentInfo",kind:"LinkedField",name:"group_comment_info",plural:!1,selections:[{alias:"member_badges",args:S,concreteType:"GroupCommentInfoCommentMemberBadgesConnection",kind:"LinkedField",name:"comment_member_badges",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupCommentInfoCommentMemberBadgesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"RenderableGroupMemberTag",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"tag_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"member_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"group_id",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"small_icon",plural:!1,selections:w,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:"author_badge",args:[B,R,{kind:"Literal",name:"whitelist",value:"ORIGINAL_POST_AUTHOR"}],concreteType:"GroupCommentInfoCommentMemberBadgesConnection",kind:"LinkedField",name:"comment_member_badges",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupCommentInfoCommentMemberBadgesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"RenderableGroupMemberTag",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"badge_name",plural:!1,selections:T,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{documentName:"CometUFICommentActorLink_comment",fragmentName:"CometUFIGroupCommentActorLink_groupCommentInfo",fragmentPropName:"groupCommentInfo",kind:"ModuleImport"}],storageKey:null};R={alias:null,args:null,kind:"ScalarField",name:"has_constituent_badge",storageKey:null};var Ha={alias:null,args:null,kind:"ScalarField",name:"can_see_constituent_badge_upsell",storageKey:null},Ia={alias:null,args:null,kind:"ScalarField",name:"legacy_token",storageKey:null},Ja={alias:null,args:null,kind:"ScalarField",name:"is_author_original_poster",storageKey:null},Ka={alias:null,args:null,kind:"ScalarField",name:"is_viewer_comment_poster",storageKey:null},La={alias:null,args:C,concreteType:"IdentityBadge",kind:"LinkedField",name:"identity_badges_web",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"badge_asset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"multiple_badge_asset",storageKey:null},Q,{alias:null,args:null,kind:"ScalarField",name:"information_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"information_asset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"information_description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"identity_badge_type",storageKey:null}],storageKey:null};C={alias:null,args:C,kind:"ScalarField",name:"can_show_multiple_identity_badges",storageKey:null};var Ma={alias:null,args:null,kind:"ScalarField",name:"can_viewer_disable_preview",storageKey:null},Na={alias:null,args:null,kind:"ScalarField",name:"is_hidden_by_content_owner",storageKey:null},U=[u];N={alias:null,args:null,concreteType:"InlineSurveyStoryActionLink",kind:"LinkedField",name:"inline_survey_config",plural:!1,selections:[{alias:null,args:U,concreteType:"Image",kind:"LinkedField",name:"favicon",plural:!1,selections:N,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followup_choices",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followup_question",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"main_choices",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"main_question",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"session_blob",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thankyou_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tessa_survey_config_id",storageKey:null},{documentName:"CometUFIComment_comment",fragmentName:"CometUFICommentQualitySurvey_inlineSurveyConfig",fragmentPropName:"inlineSurveyConfig",kind:"ModuleImport"}],storageKey:null};var Oa={alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:F,storageKey:null};F={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[Q,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[r,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:F,storageKey:null},P,J,K],storageKey:null}],storageKey:null};P={alias:null,args:null,kind:"ScalarField",name:"is_markdown_enabled",storageKey:null};var Pa={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"reply_parent_comment",plural:!1,selections:G,storageKey:null},Qa={alias:"flat_threading_depth",args:null,kind:"ScalarField",name:"depth",storageKey:null},Ra={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"optimistic_action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_locally_composed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_created_from_subscription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reply_comment_parent_fbid",storageKey:null}]},V={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"source",plural:!1,selections:T,storageKey:null},W={kind:"Literal",name:"height",value:396},X={kind:"Literal",name:"width",value:396},Y=[L,v,M],Z={alias:null,args:null,kind:"ScalarField",name:"animated_image_attribution",storageKey:null},$={alias:null,args:null,concreteType:"ObjectionableContentInfo",kind:"LinkedField",name:"objectionable_content_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"categories",storageKey:null},{alias:null,args:null,concreteType:"ObjectionableContentWarningScreenText",kind:"LinkedField",name:"strings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blur_subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"blur_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cover_media_link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"learn_more_desc",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"learn_more_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_media_desc",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uncover_media_link",storageKey:null}],storageKey:null}],storageKey:null};v=[v,M,L];W={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[r,{alias:"gifAnimatedImage_396",args:[W,{kind:"Literal",name:"media_type",value:"image/gif"},u,X],concreteType:"Image",kind:"LinkedField",name:"animated_image",plural:!1,selections:Y,storageKey:null},{alias:"image_396",args:[W,u,{kind:"Literal",name:"sizing",value:"contain-fit"},X],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:Y,storageKey:null},{alias:"webPAnimatedImage_396",args:[W,{kind:"Literal",name:"media_type",value:"image/webp"},u,X],concreteType:"Image",kind:"LinkedField",name:"animated_image",plural:!1,selections:Y,storageKey:null},g,{alias:"fallback_image",args:[{kind:"Literal",name:"height",value:98},u,{kind:"Literal",name:"width",value:98}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:Y,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null},{kind:"InlineFragment",selections:[Z,$,M,L,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:w,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_width",storageKey:null},{condition:"isComet",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"playable_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcaster_origin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_streaming",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_trace_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_looping",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"loop_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"permalink_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dash_prefetch_experimental",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcaster_desired_latency_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcaster_latency_tolerance_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_use_oz",storageKey:null},{alias:"playable_url_dash",args:[{kind:"Literal",name:"scrubbing_preference",value:"MPEG_DASH"}],kind:"ScalarField",name:"playable_url",storageKey:'playable_url(scrubbing_preference:"MPEG_DASH")'},{alias:null,args:null,kind:"ScalarField",name:"dash_manifest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_quality_preference",storageKey:null},{alias:"playable_url_quality_hd",args:[{kind:"Literal",name:"quality",value:"HD"}],kind:"ScalarField",name:"playable_url",storageKey:'playable_url(quality:"HD")'},{alias:null,args:null,kind:"ScalarField",name:"autoplay_gating_result",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_autoplay_setting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_autoplay",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"drm_info",storageKey:null},{alias:null,args:null,concreteType:"CaptionsSettings",kind:"LinkedField",name:"captions_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"always_show_captions",storageKey:null},g],storageKey:null},{alias:null,args:null,concreteType:"InstreamVideoAdBreaks",kind:"LinkedField",name:"instream_video_ad_breaks_comet",plural:!1,selections:[{documentName:"VideoPlayerRelay_video",fragmentName:"InstreamVideoAdBreaksPlayer_adBreaks",fragmentPropName:"adBreaks",kind:"ModuleImport"}],storageKey:null}]}],type:"Video"},{kind:"InlineFragment",selections:[{alias:"media_id",args:null,kind:"ScalarField",name:"id",storageKey:null},Z],type:"GenericAttachmentMedia"},{kind:"InlineFragment",selections:[$,{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},{alias:"massive_image",args:U,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[M,L],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:210},u,{kind:"Literal",name:"width",value:260}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:v,storageKey:null}],type:"Photo"}],storageKey:null};X=[{alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"single_line_full_address",storageKey:null}],storageKey:null},g,s,{alias:null,args:null,concreteType:"Location",kind:"LinkedField",name:"location",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"latitude",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"longitude",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"overall_rating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price_range_description",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size__height",value:60},{kind:"Literal",name:"size__width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:w,storageKey:"profile_picture(size__height:60,size__width:60)"},{alias:null,args:null,kind:"ScalarField",name:"top_category_name",storageKey:null},t];Y={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[r,g,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_add_to_attachment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_remove_from_attachment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_add_suggested_to_attachment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_remove_suggested_from_attachment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_curate_attachment",storageKey:null},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"pending_places_for_attachment",plural:!0,selections:X,storageKey:null},{alias:null,args:null,concreteType:"CommentPlaceInfoToPlaceListItemsConnection",kind:"LinkedField",name:"place_list_items",plural:!1,selections:[{alias:null,args:null,concreteType:"PlaceListItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"recommendation_page",plural:!1,selections:X,storageKey:null},{alias:null,args:null,concreteType:"PageCtaPayload",kind:"LinkedField",name:"page_cta",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cta_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cta_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cta_icon",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web_destination_type",storageKey:null}],storageKey:null},g],storageKey:null}],storageKey:null}],type:"CommentPlaceInfo"},{kind:"InlineFragment",selections:[t],type:"ExternalUrl"}],storageKey:null};Z={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"style_infos",plural:!0,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"donation_comment_text",plural:!1,selections:[{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[r,t,g],storageKey:null},J,K],storageKey:null},Q],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_donation_v2",storageKey:null}],type:"FundraiserForStoryDonationAttachmentStyleInfo"}],storageKey:null};$={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title_with_entities",plural:!1,selections:T,storageKey:null};U={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_links",plural:!0,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"object_id",storageKey:null}],type:"ArticleContextActionLink"}],storageKey:null};M={alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null};L=[s,g];X=[{kind:"Literal",name:"height",value:80},u,{kind:"Literal",name:"width",value:80}];J={alias:"sticker",args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[r,g,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"frame_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frame_rate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_column",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"pack",plural:!1,selections:L,storageKey:null},{alias:null,args:X,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:w,storageKey:null},{alias:"sticker_image",args:X,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:v,storageKey:null},{alias:"larger_sticker_image",args:[{kind:"Literal",name:"height",value:120},u,{kind:"Literal",name:"width",value:120}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:v,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sticker_type",storageKey:null}],type:"Sticker"}],storageKey:null};K={alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"parent_post_story",plural:!1,selections:G,storageKey:null};Q=[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[t,V,W,Y,Z,$,U,M,J,{alias:"style_type_renderer_blue",args:[{kind:"Literal",name:"supported",value:["StoryAttachmentTipJarPaymentStyleRenderer","StoryAttachmentChatCommandStyleRenderer","StoryAttachmentInstantGamesTournamentActivityStyleRenderer"]}],concreteType:null,kind:"LinkedField",name:"style_type_renderer",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{documentName:"UFI2CommentLazyLoadAttachmentContainer_attachment",fragmentName:"UFI2CommentTipJarPaymentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentTipJarPaymentStyleRenderer"},{kind:"InlineFragment",selections:[{documentName:"UFI2CommentLazyLoadAttachmentContainer_attachment",fragmentName:"UFI2CommentChatCommandAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentChatCommandStyleRenderer"},{kind:"InlineFragment",selections:[{documentName:"UFI2CommentLazyLoadAttachmentContainer_attachment",fragmentName:"UFI2CommentInstantGamesTournamentActivityAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentInstantGamesTournamentActivityStyleRenderer"}],storageKey:'style_type_renderer(supported:["StoryAttachmentTipJarPaymentStyleRenderer","StoryAttachmentChatCommandStyleRenderer","StoryAttachmentInstantGamesTournamentActivityStyleRenderer"])'}],storageKey:null},K,{alias:null,args:null,concreteType:"GroupCommentInfo",kind:"LinkedField",name:"group_comment_info",plural:!1,selections:[{alias:"member_badges",args:S,concreteType:"GroupCommentInfoCommentMemberBadgesConnection",kind:"LinkedField",name:"comment_member_badges",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupCommentInfoCommentMemberBadgesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"RenderableGroupMemberTag",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"argb_background_color",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"dialog_url",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];T={condition:"containerIsFeedStory",kind:"Condition",passingValue:!0,selections:Q};w={condition:"containerIsLiveStory",kind:"Condition",passingValue:!0,selections:Q};X={condition:"containerIsTahoe",kind:"Condition",passingValue:!0,selections:Q};u={condition:"containerIsWorkplace",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[t,V,W,Y,Z,$,U,M,J],storageKey:null},K,{alias:null,args:null,kind:"ScalarField",name:"is_author_non_coworker",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_author_bot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_the_comment_on_work_knowledge",storageKey:null},{alias:null,args:null,concreteType:"InternQASyncedAnswerData",kind:"LinkedField",name:"synced_intern_qa_answer",plural:!1,selections:[ua,{alias:null,args:null,kind:"ScalarField",name:"activity_uri",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"last_editor",plural:!1,selections:L,storageKey:null}],storageKey:null}]};v={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null};S={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_cursor",storageKey:null}],storageKey:null};Q={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"ufi2_connection_generation",storageKey:null}]};V=["feedback_source","focus_comment_id","comment_order"];W={kind:"Variable",name:"__dynamicKey",variableName:"UFI2CommentsProvider_commentsKey"};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFICommentsProviderPaginationQuery",selections:[{alias:null,args:b,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{args:[c,d,e,{kind:"Variable",name:"includeHighlightedComments",variableName:"includeHighlightedComments"},{kind:"Variable",name:"includeNestedComments",variableName:"includeNestedComments"},{kind:"Variable",name:"isInitialFetch",variableName:"isInitialFetch"},{kind:"Variable",name:"isPaginating",variableName:"isPaginating"},f,{kind:"Variable",name:"topLevelViewOption",variableName:"topLevelViewOption"},{kind:"Variable",name:"viewOption",variableName:"viewOption"}],kind:"FragmentSpread",name:"CometUFICommentsProvider_feedback"}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFICommentsProviderPaginationQuery",selections:[{alias:null,args:b,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[g,aa,{alias:null,args:ba,concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"display_comments",plural:!1,selections:[ca,da,q,{alias:null,args:null,concreteType:"DisplayCommentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[g,ea,y,ha,A,ia,ja,ka,la,ma,oa,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[g,pa,qa,ra,sa,E,ta,va,wa,xa,ya,za,Aa,Ba,{condition:"includeNestedComments",kind:"Condition",passingValue:!0,selections:[{alias:"comment_count",args:null,concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null}],storageKey:null},{alias:"toplevel_comment_count",args:[{kind:"Literal",name:"orderby",value:"toplevel"}],concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:na,storageKey:'top_level_comments(orderby:"toplevel")'},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"threading_config",plural:!1,selections:[r],storageKey:null},{alias:null,args:D,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[r,s,t,fa,ga,{kind:"InlineFragment",selections:[z],type:"User"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_pin_live_comments",storageKey:null},{alias:null,args:null,concreteType:"BroadcastPinnedCommentEvent",kind:"LinkedField",name:"latest_pinned_comment_event",plural:!1,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"pinned_comment",plural:!1,selections:G,storageKey:null},g],storageKey:null},aa,{alias:null,args:h,concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"display_comments",plural:!1,selections:[i,j,k,l,m,n,o,ca,da,q,{alias:null,args:null,concreteType:"DisplayCommentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[g,ea,y,ha,A,ia,ja,ka,la,ma,oa,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[g,pa,qa,ra,sa,E,ta,va,wa,xa,ya,za,Aa,Ba,p],storageKey:null},x,Ca,H,O,Da,Ea,t,I,Fa,Ga,B,R,Ha,Ia,Ja,Ka,La,C,Ma,Na,N,Oa,F,P,Pa,Qa,r,Ra,T,w,X,u],storageKey:null},v],storageKey:null},S,Q],storageKey:null},{alias:null,args:h,filters:V,handle:"ufi2_comments",key:"UFI2CommentsProvider_feedback_display_comments",kind:"LinkedHandle",name:"display_comments",dynamicKey:W}]}],storageKey:null},x,Ca,H,O,Da,Ea,t,I,Fa,Ga,B,R,Ha,Ia,Ja,Ka,La,C,Ma,Na,N,Oa,F,P,Pa,Qa,r,Ra,T,w,X,u,{condition:"includeNestedComments",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[p],storageKey:null}]}],storageKey:null},v],storageKey:null},S,{condition:"includeHighlightedComments",kind:"Condition",passingValue:!0,selections:[i]},{condition:"isPaginating",kind:"Condition",passingValue:!1,selections:[j,k,l,m,n,o,Q]}],storageKey:null},{alias:null,args:ba,filters:V,handle:"ufi2_comments",key:"UFI2CommentsProvider_feedback_display_comments",kind:"LinkedHandle",name:"display_comments",dynamicKey:W}],storageKey:null}]},params:{id:"2739897266059112",metadata:{},name:"CometUFICommentsProviderPaginationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometUFICommentsProviderReadCommentsPageQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"after",type:"ID"},{defaultValue:null,kind:"LocalArgument",name:"before",type:"ID"},{defaultValue:null,kind:"LocalArgument",name:"displayCommentsFeedbackContext",type:"String"},{defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextEnableComment",type:"Boolean"},{defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAdPreview",type:"Boolean"},{defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAggregatedShare",type:"Boolean"},{defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsStorySet",type:"Boolean"},{defaultValue:null,kind:"LocalArgument",name:"feedLocation",type:"FBFeedLocation"},{defaultValue:null,kind:"LocalArgument",name:"feedbackID",type:"ID!"},{defaultValue:null,kind:"LocalArgument",name:"feedbackSource",type:"Int"},{defaultValue:null,kind:"LocalArgument",name:"first",type:"Int"},{defaultValue:null,kind:"LocalArgument",name:"focusCommentID",type:"ID"},{defaultValue:!0,kind:"LocalArgument",name:"includeNestedComments",type:"Boolean"},{defaultValue:null,kind:"LocalArgument",name:"isInitialFetch",type:"Boolean"},{defaultValue:null,kind:"LocalArgument",name:"last",type:"Int"},{defaultValue:null,kind:"LocalArgument",name:"topLevelViewOption",type:"CommentOrderingMode"},{defaultValue:null,kind:"LocalArgument",name:"viewOption",type:"CommentOrderingMode"}],b=[{kind:"Variable",name:"id",variableName:"feedbackID"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"before",variableName:"before"},{kind:"Variable",name:"comment_order",variableName:"viewOption"},{kind:"Variable",name:"feed_context_enable_comment",variableName:"displayCommentsContextEnableComment"},{kind:"Variable",name:"feed_context_fb_feed_location",variableName:"feedLocation"},{kind:"Variable",name:"feed_context_is_ad_preview",variableName:"displayCommentsContextIsAdPreview"},{kind:"Variable",name:"feed_context_is_aggregated_share",variableName:"displayCommentsContextIsAggregatedShare"},{kind:"Variable",name:"feed_context_is_story_set",variableName:"displayCommentsContextIsStorySet"},{kind:"Variable",name:"feedback_context",variableName:"displayCommentsFeedbackContext"},{kind:"Variable",name:"feedback_source",variableName:"feedbackSource"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"focus_comment_id",variableName:"focusCommentID"},{kind:"Variable",name:"is_initial_fetch",variableName:"isInitialFetch"},{kind:"Variable",name:"is_top_level",variableName:"includeNestedComments"},{kind:"Variable",name:"last",variableName:"last"},{kind:"Variable",name:"top_level_comment_order",variableName:"topLevelViewOption"}],concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"display_comments",plural:!1,selections:[{alias:null,args:null,concreteType:"DisplayCommentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[c],storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFICommentsProviderReadCommentsPageQuery",selections:[{alias:null,args:b,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[d],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFICommentsProviderReadCommentsPageQuery",selections:[{alias:null,args:b,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[d,c],storageKey:null}]},params:{id:"3550071361673516",metadata:{},name:"CometUFICommentsProviderReadCommentsPageQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometUFICommentsProvider_displayCommentsHighlightedComments.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"CometUFICommentsProvider_displayCommentsHighlightedComments"};e.exports=a}),null);
__d("CometUFICommentsProvider_displayCommentsMetadata.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"CometUFICommentsProvider_displayCommentsMetadata"};e.exports=a}),null);
__d("CometUFICommentsProvider_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"created_time",storageKey:null},d=[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],e=[a],f={alias:null,args:null,kind:"ScalarField",name:"is_created_from_subscription",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"is_locally_composed",storageKey:null};return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"after",type:"ID"},{defaultValue:null,kind:"LocalArgument",name:"before",type:"ID"},{defaultValue:null,kind:"LocalArgument",name:"first",type:"Int"},{defaultValue:null,kind:"LocalArgument",name:"last",type:"Int"},{defaultValue:!1,kind:"LocalArgument",name:"includeHighlightedComments",type:"Boolean!"},{defaultValue:!0,kind:"LocalArgument",name:"includeNestedComments",type:"Boolean!"},{defaultValue:!0,kind:"LocalArgument",name:"isInitialFetch",type:"Boolean!"},{defaultValue:!1,kind:"LocalArgument",name:"isPaginating",type:"Boolean!"},{defaultValue:null,kind:"LocalArgument",name:"topLevelViewOption",type:"CommentOrderingMode"},{defaultValue:null,kind:"LocalArgument",name:"viewOption",type:"CommentOrderingMode"},{defaultValue:!1,kind:"LocalArgument",name:"__false",type:"Boolean!"},{defaultValue:!0,kind:"LocalArgument",name:"__true",type:"Boolean!"},{kind:"RootArgument",name:"displayCommentsContextEnableComment",type:"Boolean"},{kind:"RootArgument",name:"feedLocation",type:"FBFeedLocation"},{kind:"RootArgument",name:"displayCommentsContextIsAdPreview",type:"Boolean"},{kind:"RootArgument",name:"displayCommentsContextIsAggregatedShare",type:"Boolean"},{kind:"RootArgument",name:"displayCommentsContextIsStorySet",type:"Boolean"},{kind:"RootArgument",name:"displayCommentsFeedbackContext",type:"String"},{kind:"RootArgument",name:"feedbackSource",type:"Int"},{kind:"RootArgument",name:"focusCommentID",type:"ID"},{kind:"RootArgument",name:"UFI2CommentsProvider_commentsKey",type:"String"},{kind:"RootArgument",name:"useDefaultActor",type:"Boolean"}],kind:"Fragment",metadata:{connection:[{count:null,cursor:null,direction:"bidirectional",path:["display_comments"]}]},name:"CometUFICommentsProvider_feedback",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"subscription_target_id",storageKey:null},{alias:"display_comments",args:[{kind:"Variable",name:"__dynamicKey",variableName:"UFI2CommentsProvider_commentsKey"},{kind:"Variable",name:"comment_order",variableName:"viewOption"},{kind:"Variable",name:"feedback_source",variableName:"feedbackSource"},{kind:"Variable",name:"focus_comment_id",variableName:"focusCommentID"}],concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"__UFI2CommentsProvider_feedback_display_comments_ufi2_comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"after_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"before_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:"DisplayCommentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"legacy_fbid",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[b,a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_author_weak_reference",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"spam_display_mode",storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[a,{alias:null,args:d,kind:"ScalarField",name:"can_viewer_comment",storageKey:null},{alias:null,args:d,kind:"ScalarField",name:"comment_composer_placeholder",storageKey:null},{condition:"includeNestedComments",kind:"Condition",passingValue:!0,selections:[{args:[{kind:"Variable",name:"includeHighlightedComments",variableName:"__true"},{kind:"Variable",name:"includeNestedComments",variableName:"__false"},{kind:"Variable",name:"isInitialFetch",variableName:"isInitialFetch"}],kind:"FragmentSpread",name:"CometUFICommentList_feedback"}]}],storageKey:null},{alias:null,args:null,concreteType:"InlineSurveyStoryActionLink",kind:"LinkedField",name:"inline_survey_config",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"UFI2CommentQualitySurvey_inlineSurveyConfig"}],storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"reply_parent_comment",plural:!1,selections:e,storageKey:null},{alias:"flat_threading_depth",args:null,kind:"ScalarField",name:"depth",storageKey:null},b,{args:null,kind:"FragmentSpread",name:"CometUFIComment_comment"},{args:null,kind:"FragmentSpread",name:"CometUFICommentEditor_comment"},{kind:"InlineDataFragmentSpread",name:"isCometCommentFresh_comment",selections:[c,{kind:"ClientExtension",selections:[f,g]}]},{condition:"includeNestedComments",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometUFIFullThreadedReplyContainer_comment"}]},{args:null,kind:"FragmentSpread",name:"UFI2CommentActorLink_comment"},{args:null,kind:"FragmentSpread",name:"UFI2CommentActorLinkBadgesDynamic_comment"},{args:null,kind:"FragmentSpread",name:"UFI2CommentQualitySurvey_comment"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"client_id",storageKey:null},g,f,{alias:null,args:null,kind:"ScalarField",name:"optimistic_action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reply_comment_parent_fbid",storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_cursor",storageKey:null}],storageKey:null},{condition:"includeHighlightedComments",kind:"Condition",passingValue:!0,selections:[{kind:"InlineDataFragmentSpread",name:"CometUFICommentsProvider_displayCommentsHighlightedComments",selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"highlighted_comments",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"CometUFIRepliesExpander_highlightedComments"}],storageKey:null}]}]},{condition:"isPaginating",kind:"Condition",passingValue:!1,selections:[{kind:"InlineDataFragmentSpread",name:"CometUFICommentsProvider_displayCommentsMetadata",selections:[{alias:null,args:null,kind:"ScalarField",name:"comment_order",storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"expanded_sub_reply_parents",plural:!0,selections:e,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_initially_expanded",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reply_comment_order",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_render_composer_preemptively",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"ufi2_connection_generation",storageKey:null}]}]}]}],storageKey:null}],type:"Feedback"}}();e.exports=a}),null);
__d("CometUFICommentListGetDerivedStateFromProps",["CometUFICommentListState","UFI2CommentsConfig","UserActivity","gkx","nullthrows","recoverableViolation","UFI2UserActivityIdleTimeout"],(function(a,b,c,d,e,f){"use strict";var g=b("CometUFICommentListState").Selectors,h=b("CometUFICommentListState").StateUpdaters;function i(a){var b=a.depth,c=a.feedback,d=a.topLevelCommentFeedback;a=a.topLevelFeedback;return b>1?(d==null?void 0:d.can_viewer_comment)===!0&&(a==null?void 0:a.can_viewer_comment)===!0:b===0?Boolean(c.can_viewer_comment):a!=null&&a.can_viewer_comment===!0&&c!=null&&c.can_viewer_comment===!0}function a(a,c){var d=c.listState;c=c.mirroredProps;if(c===a)return{listState:d,mirroredProps:c};var e=c.connectionGeneration,f=c.feedback,k=c.isRefetchingConnection,l=c.topLevelCommentFeedback,m=c.topLevelFeedback;c=c.totalCount;var n=a.commentIDs,o=a.commentsByID,p=a.connectionGeneration,q=a.connectionPageInfo,r=a.depth,s=a.feedback,t=a.hiddenCommentIDs,u=a.isRefetchingConnection,v=a.shouldRenderComposerPreemptively,w=a.topLevelCommentFeedback,x=a.topLevelFeedback,y=a.totalCount,z=a,A=q.afterCount,B=q.beforeCount,C=q.hasNext,D=q.hasPrevious;q=q.pageSize;var E=d;E=h.setCommentsByID({args:{commentsByID:o,depth:r},state:E});if(r===0&&g.isListLoading({depth:r,state:E})){k=k===!0&&u===!1;k&&(E=h.receiveRefetchList({args:{afterCount:A,beforeCount:B,canViewerComment:i({depth:r,feedback:s,topLevelCommentFeedback:w,topLevelFeedback:x}),commentIDs:n,commentsByID:o,depth:r,hasNext:C,hasPrevious:D,hiddenCommentIDs:t,pageSize:q,shouldRenderComposerPreemptively:v,totalCount:y},state:E}));return{listState:E,mirroredProps:z}}if(p>e){E=j(z,d);return{listState:E,mirroredProps:z}}u=a.commentIDsUpdatedToServerIDs;k=a.newlyCreatedCommentIDs;A=a.newlyHiddenCommentIDs;B=a.newlyUnhiddenCommentIDs;n=a.removedCommentIDs;C=i({depth:r,feedback:f,topLevelCommentFeedback:l,topLevelFeedback:m});D=i({depth:r,feedback:s,topLevelCommentFeedback:w,topLevelFeedback:x});u.length>0&&u.forEach(function(a){var b=a.clientID;a=a.serverID;E=h.setServerCommentID({args:{clientCommentID:b,depth:r,serverCommentID:a},state:E})});C!==D&&(E=h.setCanViewerComment({args:{canViewerComment:D,depth:r},state:E}));A.length>0&&(E=h.hideComments({args:{commentIDs:A,depth:r},state:E}));B.length>0&&(E=h.unhideComments({args:{commentIDs:B,depth:r},state:E}));if(k.length>0){t=a.connectionPageInfo.pageSize;for(var q=k.length-1;q>=0;q--){v=k[q];if(b("gkx")("1290534")){p=o[v];if(p==null){b("recoverableViolation")("Unable to find comment for Comment ID "+v+', falling back to old "RECEIVE_NEW_COMMENT" implementation',"ufi2");continue}if(p.is_created_from_subscription===!0){E=h.receiveRealtimeComment({args:{commentID:v,depth:r,hideCommentInPager:!b("UserActivity").isActive(b("UFI2UserActivityIdleTimeout"))||!a.isUFIVisible,totalCount:y},state:E});continue}}r===0?E=h.receiveNewComment({args:{commentID:v,depth:r,pageSize:t,prevTotalCount:c,totalCount:y},state:E}):E=h.receiveNewComment({args:{commentID:v,depth:r,minCountToShowCollapser:b("UFI2CommentsConfig").minRepliesToToggleReplies,pageSize:t,prevTotalCount:c,totalCount:y},state:E})}}else n.length>0&&n.forEach(function(a){r===0?E=h.deleteComment({args:{commentID:a,depth:r},state:E}):E=h.deleteComment({args:{commentID:a,depth:r,minCountToShowCollapser:b("UFI2CommentsConfig").minRepliesToToggleReplies},state:E})});return{listState:E,mirroredProps:z}}function j(a,c){var d=a.commentIDs,e=a.commentsByID,f=a.connectionPageInfo,g=f.afterCount,j=f.beforeCount,k=f.hasNext,l=f.hasPrevious;f=f.pageSize;var m=a.depth,n=a.feedback,o=a.hiddenCommentIDs,p=a.isInitiallyExpanded,q=a.shouldRenderComposerPreemptively,r=a.topLevelCommentFeedback,s=a.topLevelFeedback,t=a.totalCount;a=a.viewOption;r=i({depth:m,feedback:n,topLevelCommentFeedback:r,topLevelFeedback:s});j={afterCount:g,beforeCount:j,canViewerComment:r,commentIDs:d,commentsByID:e,feedbackTargetID:b("nullthrows")(n.id),hasNext:k,hasPrevious:l,hiddenCommentIDs:o,initiallyExpanded:p,pageSize:f,shouldRenderComposerPreemptively:q,topLevelFeedbackTargetID:(g=s==null?void 0:s.id)!=null?g:b("nullthrows")(n.id),totalCount:t,viewOption:a};return m===0?h.getInitialState({args:babelHelpers["extends"]({},j,{depth:0}),state:(r=c)!=null?r:null}):h.getInitialState({args:babelHelpers["extends"]({},j,{depth:1,minCountToShowCollapser:b("UFI2CommentsConfig").minRepliesToToggleReplies}),state:(d=c)!=null?d:null})}e.exports={getCanViewerComment:i,getDerivedStateFromProps:a,getInitialState:j}}),null);
__d("CometUFICommentsProvider.react",["requireDeferred","CometRelay","CometUFICommentsProviderState","FBLogger","React","RelayModern","RelayUFI2CommentsKeyContext","SiteData","UFI2Config","UFI2RealtimeContainer.react","UFI2RelayConnectionRenderer.react","gkx","relay-runtime","unrecoverableViolation","CometUFICommentsProvider_displayCommentsMetadata.graphql","CometUFICommentsProvider_displayCommentsHighlightedComments.graphql","CometUFICommentsProviderPaginationQuery.graphql","CometUFICommentsProviderReadCommentsPageQuery.graphql","CometUFICommentsProvider_feedback.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h,i,j,k;b("CometRelay").graphql;var l=b("CometRelay").readInlineData;c=b("CometUFICommentsProviderState").getDerivedStateFromProps;var m=b("CometUFICommentsProviderState").getInitialState,n=b("requireDeferred")("CometUFICreateCommentSubscription"),o=b("React");d=b("RelayModern").createRefetchContainer;var p=b("SiteData").pr,q=b("relay-runtime").createOperationDescriptor,r=b("relay-runtime").getRequest,s=50,t=function(c){babelHelpers.inheritsLoose(a,c);function a(a){var d;d=c.call(this,a)||this;d.state=m({edges:d.props.edges,feedback:d.props.feedback});d.$1=function(a){var c=a.count,e=a.direction,f=a.onCommentsFetched;a=d.props;var g=a.depth,h=a.displayCommentsContext,i=a.feedback,j=a.feedbackSource,k=a.feedLocation,l=a.focusCommentID,m=a.isLoadingNext,n=a.isLoadingPrevious,o=a.loadNext,q=a.loadPrevious,r=a.topLevelViewOption;a=a.useDefaultActor;var s=d.state.selectedViewOption;i=i.id;if(!i){b("FBLogger")("ufi2").mustfix("CometUFICommentsProvider: Cant fetch without a feedback id");return}if(e==="forward"&&m)return;if(e==="backward"&&n)return;m={containerIsFeedStory:!0,containerIsLiveStory:!1,containerIsTahoe:!1,containerIsWorkplace:!1,displayCommentsContextEnableComment:h==null?void 0:h.enableComment,displayCommentsContextIsAdPreview:h==null?void 0:h.isAdPreview,displayCommentsContextIsAggregatedShare:h==null?void 0:h.isAggregatedShare,displayCommentsContextIsStorySet:h==null?void 0:h.isStorySet,displayCommentsFeedbackContext:h==null?void 0:h.feedbackContext,feedLocation:k,feedbackID:i,feedbackSource:j,focusCommentID:l,includeHighlightedComments:!1,includeNestedComments:g===0,isComet:!0,isInitialFetch:!1,scale:p,topLevelViewOption:r,useDefaultActor:a,viewOption:s};if(e==="backward")q(c,{onLoaded:function(a){var b=a.error;a=a.variables;return d.$2({direction:e,error:b,onCommentsFetched:f,variables:a})},queryVariables:m});else if(e==="forward")o(c,{onLoaded:function(a){var b=a.error;a=a.variables;return d.$2({direction:e,error:b,onCommentsFetched:f,variables:a})},queryVariables:m});else throw b("unrecoverableViolation")("CometUFICommentsProvider: Invalid direction","ufi2")};d.$3=function(a){var c=d.state.commentsByID[a];if(c==null){b("FBLogger")("ufi2").warn("CometUFICommentsProvider: Could not find requested comment locally: %s",a);return null}return c};d.$5=function(a){var c=a.onComplete;a=a.queryVariables;var e=d.props,f=e.depth,g=e.displayCommentsContext,h=e.feedback,i=e.feedbackSource,j=e.feedLocation,k=e.focusCommentID,l=e.relay,m=e.topLevelViewOption;e=e.useDefaultActor;var n=d.state.selectedViewOption;h=h.id;if(!h){b("FBLogger")("ufi2").mustfix("CometUFICommentsProvider: Cant refetch without a feedback id");return}var o=babelHelpers["extends"]({containerIsFeedStory:!0,containerIsLiveStory:!1,containerIsTahoe:!1,containerIsWorkplace:!1,displayCommentsContextEnableComment:g==null?void 0:g.enableComment,displayCommentsContextIsAdPreview:g==null?void 0:g.isAdPreview,displayCommentsContextIsAggregatedShare:g==null?void 0:g.isAggregatedShare,displayCommentsContextIsStorySet:g==null?void 0:g.isStorySet,displayCommentsFeedbackContext:g==null?void 0:g.feedbackContext,feedLocation:j,feedbackID:h,feedbackSource:i,focusCommentID:k,includeHighlightedComments:f>0&&((a==null?void 0:a.isPaginating)==null||(a==null?void 0:a.isPaginating)===!1),includeNestedComments:!0,isComet:!0,isInitialFetch:!1,scale:p,topLevelViewOption:m,useDefaultActor:e,viewOption:n},a);d.setState({isRefetchingConnection:!0},function(){l.refetch(function(a){return babelHelpers["extends"]({},a,o)},null,function(a){return d.$4(a||null,c)})})};d.$6=function(a){var b=a.onComplete;a=a.viewOption;d.setState({selectedViewOption:a},function(){d.$5({onComplete:b,queryVariables:{isPaginating:!1}})})};d.$7=function(){var a=d.props,c=a.commentsKey,e=a.depth,f=a.feedback,g=a.feedbackSource,h=a.feedLocation,i=a.focusCommentID,j=a.onNext,k=a.relay,l=a.useDefaultActor;if(b("gkx")("1352852")&&(g===1||g===69))return null;var m=f.id,o=f.subscription_target_id;if(e===1||!m||!o)return null;var p=!1,q={dispose:function(){p=!0}};n.load().then(function(a){if(p)return;q.dispose=a.subscribe({commentsKey:c,containerMapping:{containerIsFeedStory:!0,containerIsLiveStory:!1,containerIsTahoe:!1,containerIsWorkplace:!1},environment:k.environment,feedLocation:h,feedbackSource:g,focusCommentID:i,isComet:!0,onNext:j,subscriptionTargetID:o,topLevelFeedbackTargetID:m,useDefaultActor:l}).dispose})["catch"](function(a){return b("FBLogger")("ufi2").catching(a).mustfix("Error subscribing to CometUFICreateCommentSubscription, this is probably because the arguments didn't line up with what we're expected or someone has been tinkering with its implementation")});return q};return d}var d=a.prototype;d.$2=function(a){var b=a.direction,c=a.error,d=a.onCommentsFetched;a=a.variables;if(c){d&&d({commentIDs:[],direction:b,error:c});return}c=this.props.relay.environment;var e=r(v);e=q(e,a);a=c.lookup(e.fragment).data;c=(a=a==null?void 0:(c=a.feedback)==null?void 0:(e=c.display_comments)==null?void 0:e.edges)!=null?a:[];e=c.map(function(a){return a==null?void 0:(a=a.node)==null?void 0:a.id}).filter(Boolean);d&&d({commentIDs:e||[],direction:b,error:null})};d.$4=function(a,b){this.setState({isRefetchingConnection:!1},function(){b&&b(a)})};d.render=function(){var a,c,d,e=this.props,f=e.children,i=e.depth,j=e.feedback,k=e.hasNext,m=e.hasPrevious,n=e.isLoadingNext;e=e.isLoadingPrevious;var p=this.state,q=p.commentIDs,r=p.commentIDsUpdatedToServerIDs,t=p.commentsByID,u=p.hiddenCommentIDs,v=p.isRefetchingConnection,w=p.newlyCreatedCommentIDs,x=p.newlyHiddenCommentIDs,y=p.newlyUnhiddenCommentIDs,z=p.removedCommentIDs;p=p.selectedViewOption;var A=l(g!==void 0?g:g=b("CometUFICommentsProvider_displayCommentsMetadata.graphql"),j.display_comments);a=Math.ceil(((a=A==null?void 0:A.page_size)!=null?a:s)*(i>0?b("UFI2Config").legacyReplyFetchShortfallSimulationFactor:b("UFI2Config").legacyTopLevelFetchShortfallSimulationFactor));c=(c=A==null?void 0:A.ufi2_connection_generation)!=null?c:0;d={afterCount:(d=(d=j.display_comments)==null?void 0:d.after_count)!=null?d:0,beforeCount:(d=(d=j.display_comments)==null?void 0:d.before_count)!=null?d:0,hasNext:k,hasPrevious:m,pageSize:a};k=null;try{m=l(h!==void 0?h:h=b("CometUFICommentsProvider_displayCommentsHighlightedComments.graphql"),j.display_comments);k=(a=m==null?void 0:m.highlighted_comments)!=null?a:[]}catch(a){}var B={};((m=A==null?void 0:A.expanded_sub_reply_parents)!=null?m:[]).forEach(function(a){a=a==null?void 0:a.id;a!=null&&(B[a]=!0)});a=(A==null?void 0:A.is_initially_expanded)===!0;m=(j=(m=j.display_comments)==null?void 0:m.count)!=null?j:0;j=(A==null?void 0:A.comment_order)||p;p=(p=A==null?void 0:A.reply_comment_order)!=null?p:null;return o.jsx(b("UFI2RealtimeContainer.react"),{subscribe:this.$7,children:f({commentIDs:q,commentIDsUpdatedToServerIDs:r,commentsByID:t,connectionGeneration:c,connectionPageInfo:d,expandedSubReplyParents:B,fetchComments:this.$1,getComment:this.$3,hiddenCommentIDs:u,highlightedComments:k,isFetchingNextComments:n,isFetchingPreviousComments:e,isInitiallyExpanded:a,isRefetchingConnection:v,newlyCreatedCommentIDs:w,newlyHiddenCommentIDs:x,newlyUnhiddenCommentIDs:y,refetchConnection:this.$5,removedCommentIDs:z,replyViewOption:p,setViewOption:this.$6,shouldRenderComposerPreemptively:(f=A==null?void 0:A.should_render_composer_preemptively)!=null?f:i===0,totalCount:m,viewOption:j})})};return a}(o.PureComponent);t.displayName="CometUFICommentsProviderInternal";t.getDerivedStateFromProps=c;function a(a){var c=a.feedback.display_comments;if(!c){var d;return(d=a.fallback)!=null?d:null}return o.jsx(b("RelayUFI2CommentsKeyContext").Consumer,{children:function(d){return o.jsx(b("UFI2RelayConnectionRenderer.react"),{commentsKey:d,connection:c,paginationQuery:u,children:function(b){return o.jsx(t,babelHelpers["extends"]({commentsKey:d,depth:0},a,b))}})}})}var u=i!==void 0?i:i=b("CometUFICommentsProviderPaginationQuery.graphql"),v=j!==void 0?j:j=b("CometUFICommentsProviderReadCommentsPageQuery.graphql");e.exports=d(a,{feedback:k!==void 0?k:k=b("CometUFICommentsProvider_feedback.graphql")},u)}),null);
__d("CometUFIVisibilityContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");e.exports=a.createContext(!0)}),null);
__d("CometUFICommentList.react",["fbt","CometRelay","CometUFICommentListGetDerivedStateFromProps","CometUFICommentListState","CometUFICommentsProvider.react","CometUFIVisibilityContext","FBLogger","React","SearchableEntry","SubscriptionsHandler","UFI2CommentsConfig","debounce","emptyFunction","gkx","recoverableViolation","scrollIntoView","unrecoverableViolation","CometUFICommentList_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;b("CometRelay").graphql;var i=b("CometRelay").useFragment,j=b("CometRelay").useRelayEnvironment,k=b("CometUFICommentListGetDerivedStateFromProps").getCanViewerComment;c=b("CometUFICommentListGetDerivedStateFromProps").getDerivedStateFromProps;var l=b("CometUFICommentListGetDerivedStateFromProps").getInitialState,m=b("CometUFICommentListState").Selectors,n=b("CometUFICommentListState").StateUpdaters,o=b("React");d=b("React");var p=d.useContext;function q(a,b){return(a=a.comment_composer_placeholder)!=null?a:b>0?g._("Write a reply\u2026"):g._("Write a comment\u2026")}var r=function(c){babelHelpers.inheritsLoose(a,c);function a(a){var d;d=c.call(this,a)||this;d.state={listState:l(d.props,void 0),mirroredProps:d.props};d.$6=null;d.$7=null;d.$8=new Map();d.$5=[];d.$9={};d.$10=!1;d.$11=!1;d.$12=!1;d.$13=!1;d.$14={};d.$4=new(b("SubscriptionsHandler"))();d.$15=null;d.$18=function(a){d.$5.indexOf(a)<0&&d.$5.push(a)};d.$19=function(a){d.$5=d.$5.map(function(b){return b===a?null:b}).filter(Boolean)};d.$20=function(){var a=d.props,b=a.depth,c=a.totalCount;d.$21(function(a){return n.collapseList({args:{depth:b,totalCount:c},state:a})})};d.$22=function(a){var c=a.focusComposer,e=a.scrollToComposer;a=a.scrollToNode;var f=d.props,g=f.connectionPageInfo.pageSize,h=f.depth,i=f.fetchComments,j=f.refetchConnection,k=f.totalCount;c&&(d.$10=!0);e===!0&&(d.$11=!0);a!=null&&(d.$15=a);d.$16();var l=!1;d.$21(function(a){var c=h===0&&m.isListLoading({depth:h,state:a})||h!==0&&m.isRepliesExpanderLoading({depth:h,state:a});if(c)return null;c=h===0?n.expandList({args:{depth:h,totalCount:k},state:a}):n.expandList({args:{depth:h,minCountToShowCollapser:b("UFI2CommentsConfig").minRepliesToToggleReplies,totalCount:k},state:a});if(h===0){a=m.isListLoading({depth:h,state:c});l=a;return c}a=m.isRepliesExpanderLoading({depth:h,state:c});l=a;return c},function(a){if(!l)return;if(h===0){j({});return}a=m.getCountForFetch({depth:h,direction:"forward",pageSize:g,state:a});if(a==null)return;i({count:a,direction:"forward",onCommentsFetched:d.$23})})};d.$24=function(a){var b=d.props.depth;d.$21(function(c){return n.expandHiddenComments({args:{commentIDs:a,depth:b},state:c})})};d.$25=function(){var a=d.props,c=a.depth,e=a.feedback,f=a.feedbackSource,g=a.feedLocation,h=a.focusCommentID;a=a.useDefaultActor;if(e.id==null)throw b("unrecoverableViolation")("CometUFICommentList: Expected feedback to have an id","ufi2");return{feedLocation:g,feedback:e,feedbackSource:f,feedbackTargetID:e.id,focusCommentID:h,placeholder:q(e,c),useDefaultActor:a}};d.$26=function(a){var c=d.props,e=c.depth,f=c.environment,g=c.feedback,h=c.feedbackSource,i=c.topLevelFeedback,j=c.totalCount;c=c.useDefaultActor;i=i==null?void 0:i.id;e={Selectors:m,comment:a,depth:e,environment:f,feedback:g,feedbackSource:h,isFreshIndicatorAlignedAtStart:((a=g.threading_config)==null?void 0:a.__typename)==="FullThreadingFeedbackConfig"||b("gkx")("1431404"),onDeeplinkToComment:d.$27,onReplyToComment:d.handleReplyToComment,totalCount:j,useDefaultActor:c};return i==null?e:babelHelpers["extends"]({},e,{topLevelFeedbackID:i})};d.$28=function(){var a=d.props,b=a.commentParent,c=a.depth,e=a.feedback,f=a.feedbackSource,g=a.feedLocation,h=a.focusCommentID,i=a.topLevelFeedback;a=a.useDefaultActor;i=i==null?void 0:i.id;b={commentParent:b,componentRef:c===0?d.$29:d.$30,feedLocation:g,feedback:e,feedbackSource:f,focusCommentID:h,placeholder:q(e,c),useDefaultActor:a};return i==null?b:babelHelpers["extends"]({},b,{topLevelFeedbackID:i})};d.$32=function(){return d.$31("forward")};d.$33=function(){return d.$31("backward")};d.$34=function(){var a=d.props,b=a.depth,c=a.environment;a=a.totalCount;var e=d.state.listState;return{Selectors:m,depth:b,environment:c,expandHiddenComments:d.$24,listState:e,totalCount:a}};d.$35=function(a){var c=d.props,e=c.depth,f=c.displayCommentsContext,g=c.feedback,h=c.feedbackSource,i=c.feedLocation,j=c.focusCommentID,k=c.getComment,l=c.topLevelCommentFeedback,m=c.topLevelFeedback,n=c.useDefaultActor;c=c.viewOption;k=k(a);var o=k&&k.feedback,p=function(b){d.$9[a]=b,d.$36()},q=function(b){d.$14[a]=b};if(o==null)throw b("unrecoverableViolation")("CometUFICommentList: Expected comment to have a `feedback` in order to render a replies list.","ufi2");l=e===0?o:l;if(l==null)throw b("unrecoverableViolation")("CometUFICommentList: Expected nested list to have been provided a toplevel comment feedback.","ufi2");g=e===0?g:m;if(g==null)throw b("unrecoverableViolation")("CometUFICommentList: Expected nested list to have been provided a toplevel feedback.","ufi2");return{commentParent:k,depth:e+1,displayCommentsContext:f,feedLocation:i,feedback:o,feedbackSource:h,focusCommentID:j,listRef:p,subRepliesExpanderRef:q,topLevelCommentFeedback:l,topLevelFeedback:g,topLevelViewOption:c,useDefaultActor:n}};d.$41=function(){return d.$37("forward")};d.$42=function(){return d.$37("backward")};d.$43=function(){var a=d.props,b=a.connectionPageInfo.pageSize,c=a.depth,e=a.environment;a=a.totalCount;var f=d.state.listState;return{Selectors:m,depth:c,environment:e,listState:f,pageSize:b,totalCount:a}};d.$44=function(){var a=d.props,c=a.depth,e=a.environment;a=a.totalCount;var f=d.state.listState;if(c===0)throw b("unrecoverableViolation")("CometUFICommentList: Expected a replies list to get replies collapser props","ufi2");return{Selectors:m,collapseList:d.$20,depth:c,environment:e,listState:f,totalCount:a}};d.$45=function(){var a=d.props,c=a.depth,e=a.environment,f=a.highlightedComments,g=a.totalCount;a=a.viewOption;var h=d.state.listState;if(c===0)throw b("unrecoverableViolation")("CometUFICommentList: Expected a replies list to get replies expander props","ufi2");return{Selectors:m,depth:c,environment:e,expandList:d.$22,highlightedComments:f,listState:h,onMouseEnter:function(){return d.$40("forward")},totalCount:g,viewOption:a}};d.$46=function(a){var b=d.props.expandedSubReplyParents;return b[a]===!0};d.$23=function(a){var c=a.commentIDs,e=a.direction;a=a.error;if(a)return;a=d.props;var f=a.connectionPageInfo,g=a.depth,h=a.feedback,i=a.hiddenCommentIDs,j=a.totalCount,k=f.afterCount,l=f.beforeCount,m=f.hasNext,o=f.hasPrevious,p=f.pageSize,q=h.id;if(q==null)throw b("unrecoverableViolation")("CometUFICommentList: Expected feedback to have an id","ufi2");var r=!1;d.$21(function(a){r=!0;if(g===0)if(e==="backward")return n.receiveCommentsPage({args:{beforeCount:l,commentIDs:c,depth:g,direction:e,feedbackTargetID:q,hasPrevious:o,hiddenCommentIDs:i,pageSize:p,totalCount:j},state:a});else return n.receiveCommentsPage({args:{afterCount:k,commentIDs:c,depth:g,direction:e,feedbackTargetID:q,hasNext:m,hiddenCommentIDs:i,pageSize:p,totalCount:j},state:a});else if(e==="backward")return n.receiveCommentsPage({args:{beforeCount:l,commentIDs:c,depth:g,direction:e,feedbackTargetID:q,hasPrevious:o,hiddenCommentIDs:i,minCountToShowCollapser:b("UFI2CommentsConfig").minRepliesToToggleReplies,pageSize:p,totalCount:j},state:a});else return n.receiveCommentsPage({args:{afterCount:k,commentIDs:c,depth:g,direction:e,feedbackTargetID:q,hasNext:m,hiddenCommentIDs:i,minCountToShowCollapser:b("UFI2CommentsConfig").minRepliesToToggleReplies,pageSize:p,totalCount:j},state:a})},function(a){r&&d.$47(e)})};d.$48=function(){d.$2()};d.$49=function(){d.$2.reset()};d.$29=function(a){d.$6=a,d.$16()};d.$30=function(a){d.$29(a);if(a&&d.$7){var b=d.$7;d.$7=null;d.$50(b,a)}a&&d.$13&&(d.$51(d.$1),d.$1=void 0,d.$13=!1);a&&d.$12&&(d.$52(),d.$12=!1)};d.handleReplyToComment=function(a){var c=d.props,e=c.depth,f=c.feedback,g=c.getComment,h=c.topLevelCommentFeedback;c=c.topLevelFeedback;if(k({depth:e,feedback:f,topLevelCommentFeedback:h,topLevelFeedback:c})===!1)return;c=a.authorId;var i=a.authorIsWeakReference,j=a.authorName,l=a.authorType,m=a.commentComposerPlaceholderText,n=a.commentId,o=g(n);o!=null&&d.$5.forEach(function(a){return a(o)});if(e>=1){g=d.$9[n];if(g!=null){g.handleReplyToComment(a);return}g=d.$14[n];if(g!=null){g.handleReplyToComment(a);return}}if(e!==0){d.$7=null;if(c!==((g=f.viewer_actor)==null?void 0:g.id)){a=d.$6;g={authorId:c,authorIsWeakReference:i,authorName:j,authorType:l};a?d.$50(g,a):d.$7=g}}if(e===0){c=d.$9[n];c!=null&&(c.$51(void 0),c.$52())}else d.$51({commentComposerPlaceholderText:m,id:n}),d.$52();if(e===0&&((i=f.threading_config)==null?void 0:i.__typename)==="NoThreadingFeedbackConfig"&&b("gkx")("1411711")){d.$10=!0;d.$11=!0;d.$16();return}d.$27({canViewerComment:e>1?(h==null?void 0:h.can_viewer_comment)===!0:f.can_viewer_comment===!0,commentId:n,scrollToComposer:!0,scrollToNode:void 0})};d.$53=function(a){a=d.$9[a.id];return a!=null?m.isComposerVisible({depth:a.props.depth,state:a.state.listState}):!1};d.$54=function(a){a=d.$9[a.id];return a!=null?a.props.totalCount:0};d.$55=[];d.$56=new Map();d.$27=function(a){var b=a.canViewerComment,c=a.commentId,e=a.scrollToComposer;a=a.scrollToNode;var f=d.props,g=f.depth,h=f.feedback,i=f.topLevelCommentFeedback;f=f.topLevelFeedback;g=k({depth:g,feedback:h,topLevelCommentFeedback:i,topLevelFeedback:f});if(!g)return;h=!0;a!=null&&(d.$56.has(c)&&(h=!1),d.$56.set(c,!0));i=d.$9[c]!=null;if(i)if(b){f=c;a!=null&&(d.$55=d.$55.map(function(a){a=a.commentID;return{commentID:a,scrollToComposer:!1,scrollToNode:null}}));d.$55.push({commentID:f,scrollToComposer:!!e,scrollToNode:h?a:null});d.$36()}else{g=d.$6;g&&g.focus()}else d.$22({focusComposer:!0,scrollToComposer:e,scrollToNode:h?a:null})};d.$38=function(a){a=a?a.onCommentsRendered:void 0;d.$57("forward",a)};d.$39=function(a){a=a?a.onCommentsRendered:void 0;d.$57("backward",a)};d.$58=function(a){var b=a.onComplete,c=a.viewOption;a=d.props;var e=a.depth,f=a.setViewOption;if(e!==0){b&&b(null);return}var g=!1;d.$21(function(a){if(m.isListLoading({depth:e,state:a}))return null;g=!0;return n.requestRefetchList({args:{depth:e},state:a})},function(a){g?f({onComplete:b,viewOption:c}):b&&b(null)})};d.$59=function(a){a=a.focusComposer;var b=d.props,c=b.depth;b=b.totalCount;var e=d.state.listState;!m.isListExpanded({depth:c,state:e})?d.$22({focusComposer:a,scrollToComposer:!1}):b>0&&m.getVisibleCommentsCount({depth:0,state:e})===0?e.pagers.forward?d.$38():e.pagers.backward&&d.$39():d.$20()};d.Actions={collapseList:d.$20,expandList:d.$22,loadNewerComments:d.$39,loadOlderComments:d.$38,setViewOption:d.$58,toggleList:d.$59};d.$2=b("debounce")(b("UFI2CommentsConfig").paginationPrefetchingStrategy==="no_prefetching"?b("emptyFunction"):function(){return d.$3("forward")},b("UFI2CommentsConfig").firstPagePreloadDelay,babelHelpers.assertThisInitialized(d),!0);d.$4.addSubscriptions(d.$2);return d}var d=a.prototype;d.componentWillUnmount=function(){this.$4.release(),this.$5=[]};d.$16=function(){var a=this.props.depth,c=this.state.listState;c=a===0&&!m.isListLoading({depth:a,state:c});a=a!==0;var d=this.$6;if(this.$10===!0&&d!=null&&(c||a)){this.$10=!1;c=d.getElementToScrollTo();a=this.$15;if(a!=null){this.$15=null;b("scrollIntoView")(a,{behavior:"smooth",onScrollComplete:function(){d.focus()},verticalAlign:"center"});return}a=this.$11;this.$11=!1;if(a===!1){d.focus();return}if(c==null)return;if(c instanceof Text){b("FBLogger")("ufi2").mustfix("The composer is a Text node! I don't know what happened but this is UNACCEPTABLE, we found this out because we were trying to scroll to this component. You can look into and possibly fix this issue by asserting the composerRef on CometUFICommentList is being set correctly");d.focus();return}b("scrollIntoView")(c,{behavior:"smooth",onScrollComplete:function(){return d.focus()},verticalAlign:"center"})}};d.$17=function(a,b){var c=this.$8.get(a)||[];c.push(b);this.$8.set(a,c)};d.$3=function(a){var b=this.props,c=b.connectionPageInfo.pageSize,d=b.depth,e=b.fetchComments;b=b.totalCount;var f=this.state.listState;if(!m.canFetchInDirection({depth:d,direction:a,state:f,totalCount:b}))return;b=m.getCountForFetch({depth:d,direction:a,pageSize:c,state:f});if(b==null)return;e({count:b,direction:a,onCommentsFetched:this.$23})};d.$31=function(a){var b=this.props,c=b.depth,d=b.environment,e=b.feedback,f=b.totalCount;b=b.viewOption;var g=this.state.listState;return{Selectors:m,depth:c,direction:a,environment:d,listState:g,totalCount:f,unfilteredTotalCount:(a=(c=e.toplevel_comment_count)==null?void 0:c.count)!=null?a:f,viewOption:b}};d.$37=function(a){var c=this,d=this.props,e=d.connectionPageInfo.pageSize,f=d.depth,g=d.feedback,h=d.totalCount;d=d.viewOption;var i=this.state.listState,j=a==="forward"?this.$38:this.$39;return{Selectors:m,depth:f,direction:a,isFreshIndicatorAlignedAtStart:((f=g.threading_config)==null?void 0:f.__typename)==="FullThreadingFeedbackConfig"||b("gkx")("1431404"),listState:i,loadMoreComments:j,onMouseEnter:function(){return c.$40(a)},pageSize:e,summaryTotalNumComments:(i=(f=g.comment_count)==null?void 0:f.total_count)!=null?i:0,totalCount:h,viewOption:d}};d.$40=function(a){b("UFI2CommentsConfig").paginationPrefetchingStrategy==="prefetch_enter_pager_1000ms_list"&&this.$3(a)};d.$51=function(a){var b=this.$6;b!=null?b.execCommand({__type:"SetReplyAssociation",commentAssociatedWithReply:a}):(this.$1=a,this.$13=!0)};d.$52=function(){var a=this.$6;a!=null?a.execCommand({__type:"SetReplyClicked"}):this.$12=!0};d.$36=function(){var a=this;this.$55=this.$55.filter(function(b){var c=b.commentID,d=b.scrollToComposer;b=b.scrollToNode;c=a.$9[c];if(c!=null){c.$22({focusComposer:!0,scrollToComposer:d,scrollToNode:b});return!1}return!0})};d.$57=function(a,c){var d=this,e=this.props,f=e.connectionPageInfo.pageSize,g=e.depth,h=e.fetchComments,i=!1;this.$21(function(c){var d=m.isPagerLoading({depth:g,direction:a,state:c})||g===0&&m.isListLoading({depth:g,state:c})||g!==0&&m.isRepliesExpanderLoading({depth:g,state:c});if(d)return null;d=g===0?n.requestCommentsPage({args:{depth:0,direction:a,pageSize:f},state:c}):n.requestCommentsPage({args:{depth:g,direction:a,minCountToShowCollapser:b("UFI2CommentsConfig").minRepliesToToggleReplies,pageSize:f},state:c});i=m.isPagerLoading({depth:g,direction:a,state:d});return d},function(b){if(!i){c&&c();return}b=m.getCountForFetch({depth:g,direction:a,pageSize:f,state:b});if(b==null)return;c!=null&&d.$17(a,c);h({count:b,direction:a,onCommentsFetched:d.$23})})};d.$50=function(a,c){var d=a.authorId,e=a.authorIsWeakReference,f=a.authorName;a=a.authorType;c.execCommand({__type:"PrefillMention",mentionableEntity:new(b("SearchableEntry"))({auxiliaryData:{authorativePerson:void 0,connectedPage:void 0,disableAutosuggest:void 0,indexRank:void 0,renderType:e?"non_member":"member",verified:void 0,workForeignEntity:void 0,workUser:void 0},title:f,type:a==="User"?"user":"non_user",uniqueID:d})})};d.$47=function(a){var b=this.$8.get(a)||[];for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e()}this.$8["delete"](a)};d.$21=function(a,b){var c=this;this.setState(function(b){b=a(b.listState);return!b?null:{listState:b}},function(){return b&&b(c.state.listState)})};d.render=function(){var a=this.props,b=a.children,c=a.commentParent,d=a.depth,e=a.environment,f=a.getComment,g=a.isInitiallyExpanded,h=a.replyViewOption,i=a.totalCount;a=a.viewOption;var j=this.state.listState;e={Actions:this.Actions,Selectors:m,addReplyToCommentCallback:this.$18,clearReplyToCommentCallback:this.$19,environment:e,getComment:f,getCommentEditorProps:this.$25,getCommentProps:this.$26,getComposerProps:this.$28,getFilterWarningPropsForNewerComments:this.$33,getFilterWarningPropsForOlderComments:this.$32,getHiddenCommentsPlaceholderProps:this.$34,getNestedCommentsListProps:this.$35,getPagerPropsForNewerComments:this.$42,getPagerPropsForOlderComments:this.$41,getPaginationProgressProps:this.$43,getTotalRepliesCountForComment:this.$54,isInitiallyExpanded:g,isReplyComposerVisibleForComment:this.$53,listState:j,onCommentsListMouseEnter:this.$48,onCommentsListMouseLeave:this.$49,replyViewOption:h,totalCount:i,viewOption:a};f=d===0?babelHelpers["extends"]({},e,{depth:0}):babelHelpers["extends"]({},e,{commentParent:c,depth:d,getRepliesCollapserProps:this.$44,getRepliesExpanderProps:this.$45,getShouldInitiallyExpandSubRepliesForComment:this.$46});return b(f)};return a}(o.PureComponent);r.displayName="CometUFICommentListInternal";r.getDerivedStateFromProps=c;function a(a){var c=a.children,d=a.commentParent,e=a.depth,f=e===void 0?0:e,g=a.displayCommentsContext;e=a.fallback;var k=a.feedback,l=a.feedbackSource,m=a.feedLocation,n=a.focusCommentID,q=a.listRef;a.subRepliesExpanderRef;var s=a.topLevelCommentFeedback,t=a.topLevelFeedback,u=a.topLevelViewOption,v=a.useDefaultActor;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","commentParent","depth","displayCommentsContext","fallback","feedback","feedbackSource","feedLocation","focusCommentID","listRef","subRepliesExpanderRef","topLevelCommentFeedback","topLevelFeedback","topLevelViewOption","useDefaultActor"]);var w=j(),x=p(b("CometUFIVisibilityContext")),y=i(h!==void 0?h:h=b("CometUFICommentList_feedback.graphql"),k);if(f>0&&t==null){b("recoverableViolation")("CometUFICommentList: topLevelFeedback is required to render a replies list","ufi2");return null}if(f>1&&s==null){b("recoverableViolation")("CometUFICommentList: topLevelCommentFeedback is required to render a sub replies list","ufi2");return null}return o.jsx(b("CometUFICommentsProvider.react"),babelHelpers["extends"]({depth:f,displayCommentsContext:g,fallback:e,feedLocation:m,feedback:y,feedbackSource:l,focusCommentID:n,topLevelFeedback:t,topLevelViewOption:u,useDefaultActor:v},a,{children:function(a){return o.createElement(r,babelHelpers["extends"]({},a,{children:c,commentParent:d,depth:f,displayCommentsContext:g,environment:w,feedLocation:m,feedback:y,feedbackSource:l,focusCommentID:n,isUFIVisible:x,key:[l,n,(a=y.id)!=null?a:""].join("_"),ref:q,topLevelCommentFeedback:s,topLevelFeedback:t,useDefaultActor:v}))}}))}e.exports=a}),null);