if (self.CavalryLogger) { CavalryLogger.start_js(["Ay4XO"]); }

__d("E2eDeletionRequestsFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("e2e_deletion_requests");e.exports=a}),null);
__d("DeletionLogging",["E2eDeletionRequestsFalcoEvent","Event"],(function(a,b,c,d,e,f){a={attachDialogSubscriberWithDeletion:function(a,b,c,d){this.attachDialogListenerWithDeletion(a,b,c.toString(),d)},attachDialogListenerWithDeletion:function(a,c,d,e){a.subscribe("confirm",function(){b("E2eDeletionRequestsFalcoEvent").log(function(){var a;return{ent_fbid:(a=d)!=null?a:"",deletion_request_id:e,event:"client_start",story_identifier:c,user_intent:"delete"}})}),b("Event").listen(a.getContentRoot(),"success",function(){b("E2eDeletionRequestsFalcoEvent").log(function(){var a;return{ent_fbid:(a=d)!=null?a:"",deletion_request_id:e,event:"client_success",story_identifier:c,user_intent:"delete"}})}),b("Event").listen(a.getContentRoot(),"error",function(a){var f=a.toError();b("E2eDeletionRequestsFalcoEvent").log(function(){var a;return{ent_fbid:(a=d)!=null?a:"",deletion_request_id:e,event:"client_failure",exception:{message:f.message,name:f.name,trace:f.stack},story_identifier:c,user_intent:"delete"}})})}};e.exports=a}),null);
__d("DialogFeedDeletionReliabilityListener",["Arbiter","Event","QPLUserFlow","QPLUtils","userFlowForFeedLocation"],(function(a,b,c,d,e,f){var g=b("QPLUtils").deriveInstanceKey;a={attachDialogListener:function(a,c,d){var e={instanceKey:g(c)},f=b("userFlowForFeedLocation")(d);b("QPLUserFlow").addPoint(f,"confirmation_dialog_shown",e);var j=!1;a.subscribe("confirm",function(){j=!0,b("QPLUserFlow").addPoint(f,"confirmation_dialog_confirmed",e),d===2&&i(c,f,e)});a.subscribe("destroy",function(){if(j)return;b("QPLUserFlow").endCancel(f,e)});d!==2&&h(a,f,e)}};function h(a,c,d){b("Event").listen(a.getContentRoot(),"success",function(){b("QPLUserFlow").endSuccess(c,d)}),b("Event").listen(a.getContentRoot(),"error",function(){b("QPLUserFlow").endFailure(c,d)})}function i(a,c,d){var e=b("Arbiter").subscribe(["AsyncRequest/response","AsyncRequest/error","AsyncRequest/timeout"],function(f,g){g=g==null?void 0:(g=g.request)==null?void 0:(g=g.data)==null?void 0:g.post_id;if(g!==a)return;f==="AsyncRequest/response"?b("QPLUserFlow").endSuccess(c,d):b("QPLUserFlow").endFailure(c,d);e.unsubscribe()})}e.exports=a}),null);
__d("PasswordReauthBarrierDialog",["Arbiter"],(function(a,b,c,d,e,f){a={subscribe:function(a){var c=!1;a.subscribe(["confirm","hide"],function(a){a=="confirm"?c=!0:c||b("Arbiter").inform("PasswordReauthDialogCancelClick")})}};e.exports=a}),null);
__d("ConfirmationDialog",["Event","Form","Keys","Parent"],(function(a,b,c,d,e,f){var g={},h={};a={register:function(a,b,c){g[a]=b,h[a]=c||"confirmed"},setupConfirmation:function(a,c,d){d===void 0&&(d=!1);var e=a.getPayload().__dialogID,f=g[e],i=!1,j=f.subscribe(["confirm","cancel","hide"],function(d){if(d=="confirm"){var k={};k[h[e]]=1;Object.assign(c.data,b("Form").serialize(f.getRoot()),k);c.send();f.hide();i=!0;return}if(d=="cancel"||d=="hide"&&!i){k=c.getServerDialogCancelHandler();try{k&&k(a)}catch(a){throw a}finally{c.finallyHandler(a)}i=!0;if(d=="cancel")return}delete g[e];delete h[e];j.unsubscribe()});b("Event").listen(f.getContentRoot(),"keydown",function(a){a.keyCode===b("Keys").RETURN&&b("Parent").byTag(a.getTarget(),"input")&&f.inform("confirm")});f.show()}};e.exports=a}),null);